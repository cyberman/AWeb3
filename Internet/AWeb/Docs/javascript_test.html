<!--
/**********************************************************************
 * 
 * This file is part of the AWeb distribution
 *
 * Copyright (C) 2025 amigazen project
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the AWeb Public License as included in this
 * distribution.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * AWeb Public License for more details.
 *
 **********************************************************************/
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<TITLE>AWeb JavaScript Compatibility Test Page</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META NAME="Description" CONTENT="Comprehensive JavaScript compatibility test for AWeb">
<SCRIPT LANGUAGE="JavaScript">
<!--
// JavaScript 1.5 (ECMAScript 3) Test Functions

// Window Object Tests
function testAlert() {
    window.alert("This is a JavaScript alert dialog!");
}

function testConfirm() {
    var result = window.confirm("Do you want to continue?");
    if (result) {
        window.status = "You clicked OK";
    } else {
        window.status = "You clicked Cancel";
    }
}

function testPrompt() {
    var name = window.prompt("What is your name?", "Guest");
    if (name) {
        window.status = "Hello, " + name + "!";
    } else {
        window.status = "No name entered";
    }
}

function testTimeout() {
    window.status = "Status will clear in 3 seconds...";
    window.setTimeout(function() {
        window.status = "";
    }, 3000);
}

function testInterval() {
    var count = 0;
    var intervalId = window.setInterval(function() {
        count++;
        window.status = "Interval count: " + count;
        if (count >= 5) {
            window.clearInterval(intervalId);
            window.status = "Interval stopped";
        }
    }, 1000);
}

function testOpenWindow() {
    var newWin = window.open("test.html", "newwin", "width=400,height=300");
    if (newWin) {
        window.status = "New window opened";
    } else {
        window.status = "Window blocked or failed";
    }
}

function testCloseWindow() {
    if (window.close()) {
        window.status = "Window close attempted";
    } else {
        window.status = "Window cannot be closed (may require user interaction)";
    }
}

// Document Object Tests
function testWrite() {
    document.open();
    document.write("<H1>Dynamic Content</H1>");
    document.write("<P>This was written by JavaScript document.write()!</P>");
    document.write("<P>Current time: " + new Date() + "</P>");
    document.close();
}

function showDocumentInfo() {
    var info = "Title: " + document.title + "\n";
    info += "URL: " + document.URL + "\n";
    info += "Last Modified: " + document.lastModified + "\n";
    info += "Forms: " + document.forms.length + "\n";
    info += "Images: " + document.images.length + "\n";
    info += "Links: " + document.links.length;
    window.alert(info);
}

function testGetElementById() {
    var elem = document.getElementById("testdiv");
    if (elem) {
        window.status = "Element found (getElementById is supported)";
    } else {
        window.status = "Element not found (getElementById may not be supported)";
    }
}

// History Object Tests
function goBack() {
    window.history.back();
}

function goForward() {
    window.history.forward();
}

function goHistory(n) {
    window.history.go(n);
}

function showHistoryInfo() {
    var info = "History length: " + window.history.length;
    window.alert(info);
}

// Navigator Object Tests
function showNavigatorInfo() {
    var info = "App Code Name: " + navigator.appCodeName + "\n";
    info += "App Name: " + navigator.appName + "\n";
    info += "App Version: " + navigator.appVersion + "\n";
    info += "User Agent: " + navigator.userAgent + "\n";
    info += "Platform: " + navigator.platform + "\n";
    info += "Java Enabled: " + navigator.javaEnabled() + "\n";
    info += "Taint Enabled: " + navigator.taintEnabled();
    window.alert(info);
}

// Location Object Tests
function showLocationInfo() {
    var info = "HREF: " + location.href + "\n";
    info += "Protocol: " + location.protocol + "\n";
    info += "Host: " + location.host + "\n";
    info += "Hostname: " + location.hostname + "\n";
    info += "Port: " + location.port + "\n";
    info += "Pathname: " + location.pathname + "\n";
    info += "Search: " + location.search + "\n";
    info += "Hash: " + location.hash;
    window.alert(info);
}

function testReload() {
    if (window.confirm("Reload this page?")) {
        location.reload();
    }
}

// String Object Tests
function testStringMethods() {
    var str = "Hello World";
    var info = "Original: " + str + "\n";
    info += "Length: " + str.length + "\n";
    info += "UpperCase: " + str.toUpperCase() + "\n";
    info += "LowerCase: " + str.toLowerCase() + "\n";
    info += "CharAt(0): " + str.charAt(0) + "\n";
    info += "IndexOf('o'): " + str.indexOf('o') + "\n";
    info += "LastIndexOf('o'): " + str.lastIndexOf('o') + "\n";
    info += "Substring(0,5): " + str.substring(0, 5);
    window.alert(info);
}

// Array Object Tests
function testArrayMethods() {
    var arr = ["apple", "banana", "cherry"];
    var info = "Original: " + arr.join(", ") + "\n";
    info += "Length: " + arr.length + "\n";
    arr.reverse();
    info += "Reversed: " + arr.join(", ") + "\n";
    arr.sort();
    info += "Sorted: " + arr.join(", ");
    window.alert(info);
}

// Math Object Tests
function testMath() {
    var result = "PI: " + Math.PI + "\n";
    result += "E: " + Math.E + "\n";
    result += "Random: " + Math.random() + "\n";
    result += "Round 3.7: " + Math.round(3.7) + "\n";
    result += "Floor 3.7: " + Math.floor(3.7) + "\n";
    result += "Ceil 3.2: " + Math.ceil(3.2) + "\n";
    result += "Max(5,10): " + Math.max(5, 10) + "\n";
    result += "Min(5,10): " + Math.min(5, 10) + "\n";
    result += "Abs(-5): " + Math.abs(-5) + "\n";
    result += "Sqrt(16): " + Math.sqrt(16);
    window.alert(result);
}

// Date Object Tests
function testDate() {
    var now = new Date();
    var info = "Current Date: " + now.toString() + "\n";
    info += "getTime(): " + now.getTime() + "\n";
    info += "getYear(): " + now.getYear() + "\n";
    info += "getMonth(): " + now.getMonth() + "\n";
    info += "getDate(): " + now.getDate() + "\n";
    info += "getDay(): " + now.getDay() + "\n";
    info += "getHours(): " + now.getHours() + "\n";
    info += "getMinutes(): " + now.getMinutes();
    window.alert(info);
}

// Form Event Handlers
function validateForm() {
    var form = document.forms[0];
    if (form && form.elements[0] && form.elements[0].value == "") {
        window.alert("Name field is required!");
        return false;
    }
    return true;
}

function onInputChange(element) {
    window.status = "Field changed: " + element.value;
}

function onInputFocus(element) {
    window.status = "Field focused: " + element.name;
}

function onInputBlur(element) {
    window.status = "Field blurred: " + element.name;
}

// Mouse Event Handlers
function onMouseOver() {
    window.status = "Mouse is over the link!";
}

function onMouseOut() {
    window.status = "";
}

// ECMAScript 3 Features Tests - COMMENTED OUT (JS 1.5 features not yet implemented)

function testTryCatch() {
    var result = "Try/Catch Test:\n";
    try {
        var x = 10;
        var y = 0;
        var z = x / y; // This should work (Infinity)
        result += "Division result: " + z + "\n";
        throw new Error("Test error message");
    } catch (e) {
        result += "Caught error: " + e.message + "\n";
    } finally {
        result += "Finally block executed\n";
    }
    window.alert(result);
}

function testThrow() {
    var result = "Throw Test:\n";
    try {
        throw new TypeError("This is a TypeError");
    } catch (e) {
        result += "Caught: " + e.name + " - " + e.message + "\n";
    }
    try {
        throw new RangeError("This is a RangeError");
    } catch (e) {
        result += "Caught: " + e.name + " - " + e.message + "\n";
    }
    window.alert(result);
}

function testSwitch() {
    var day = new Date().getDay();
    var dayName;
    switch (day) {
        case 0:
            dayName = "Sunday";
            break;
        case 1:
            dayName = "Monday";
            break;
        case 2:
            dayName = "Tuesday";
            break;
        case 3:
            dayName = "Wednesday";
            break;
        case 4:
            dayName = "Thursday";
            break;
        case 5:
            dayName = "Friday";
            break;
        case 6:
            dayName = "Saturday";
            break;
        default:
            dayName = "Unknown";
    }
    window.alert("Switch Test:\nToday is " + dayName + " (day " + day + ")");
}

function testInstanceof() {
    var result = "Instanceof Test:\n";
    var arr = [1, 2, 3];
    var str = "Hello";
    var num = 42;
    var obj = new Object();
    var date = new Date();
    
    result += "arr instanceof Array: " + (arr instanceof Array) + "\n";
    result += "str instanceof String: " + (str instanceof String) + "\n";
    result += "num instanceof Number: " + (num instanceof Number) + "\n";
    result += "obj instanceof Object: " + (obj instanceof Object) + "\n";
    result += "date instanceof Date: " + (date instanceof Date) + "\n";
    result += "date instanceof Object: " + (date instanceof Object) + "\n";
    
    window.alert(result);
}

function testStrictEquality() {
    var result = "Strict Equality Test:\n";
    result += "5 === 5: " + (5 === 5) + "\n";
    result += "5 === '5': " + (5 === '5') + "\n";
    result += "5 !== '5': " + (5 !== '5') + "\n";
    result += "null === undefined: " + (null === undefined) + "\n";
    result += "null !== undefined: " + (null !== undefined) + "\n";
    result += "true === true: " + (true === true) + "\n";
    result += "true === 1: " + (true === 1) + "\n";
    window.alert(result);
}

function testErrorObjects() {
    var result = "Error Objects Test:\n";
    try {
        throw new Error("Generic error");
    } catch (e) {
        result += "Error: " + e.name + " - " + e.message + "\n";
    }
    try {
        throw new TypeError("Type error");
    } catch (e) {
        result += "TypeError: " + e.name + " - " + e.message + "\n";
    }
    try {
        throw new RangeError("Range error");
    } catch (e) {
        result += "RangeError: " + e.name + " - " + e.message + "\n";
    }
    try {
        throw new SyntaxError("Syntax error");
    } catch (e) {
        result += "SyntaxError: " + e.name + " - " + e.message + "\n";
    }
    window.alert(result);
}

// Enhanced Array Methods Tests
function testArrayConcat() {
    var arr1 = [1, 2, 3];
    var arr2 = [4, 5, 6];
    var arr3 = arr1.concat(arr2);
    window.alert("Array.concat() Test:\n" + 
                 "arr1: " + arr1.join(", ") + "\n" +
                 "arr2: " + arr2.join(", ") + "\n" +
                 "arr1.concat(arr2): " + arr3.join(", "));
}

function testArrayPopPush() {
    var arr = [1, 2, 3];
    var popped = arr.pop();
    var newLength = arr.push(4, 5);
    window.alert("Array.pop()/push() Test:\n" +
                 "After pop(): " + arr.join(", ") + " (popped: " + popped + ")\n" +
                 "After push(4,5): " + arr.join(", ") + " (length: " + newLength + ")");
}

function testArrayShiftUnshift() {
    var arr = [2, 3, 4];
    var shifted = arr.shift();
    var newLength = arr.unshift(0, 1);
    window.alert("Array.shift()/unshift() Test:\n" +
                 "After shift(): " + arr.join(", ") + " (shifted: " + shifted + ")\n" +
                 "After unshift(0,1): " + arr.join(", ") + " (length: " + newLength + ")");
}

function testArraySlice() {
    var arr = [0, 1, 2, 3, 4, 5];
    var slice1 = arr.slice(1, 4);
    var slice2 = arr.slice(-3);
    window.alert("Array.slice() Test:\n" +
                 "Original: " + arr.join(", ") + "\n" +
                 "slice(1,4): " + slice1.join(", ") + "\n" +
                 "slice(-3): " + slice2.join(", "));
}

function testArraySplice() {
    var arr = [0, 1, 2, 3, 4, 5];
    var removed = arr.splice(2, 2, 'a', 'b');
    window.alert("Array.splice() Test:\n" +
                 "After splice(2,2,'a','b'): " + arr.join(", ") + "\n" +
                 "Removed: " + removed.join(", "));
}

function testArrayToLocaleString() {
    var arr = [new Date(), 1234.56, "test"];
    var result = arr.toLocaleString();
    window.alert("Array.toLocaleString() Test:\n" +
                 "Array: [Date, 1234.56, 'test']\n" +
                 "toLocaleString(): " + result);
}

// Object.prototype Methods Tests
function testObjectMethods() {
    var obj = {name: "test", value: 42};
    var obj2 = {name: "test2"};
    var result = "Object.prototype Methods Test:\n";
    result += "obj.hasOwnProperty('name'): " + obj.hasOwnProperty('name') + "\n";
    result += "obj.hasOwnProperty('toString'): " + obj.hasOwnProperty('toString') + "\n";
    result += "obj.propertyIsEnumerable('name'): " + obj.propertyIsEnumerable('name') + "\n";
    result += "obj.isPrototypeOf(obj2): " + obj.isPrototypeOf(obj2) + "\n";
    result += "Object.prototype.isPrototypeOf(obj): " + Object.prototype.isPrototypeOf(obj) + "\n";
    window.alert(result);
}


// Formless Input Tests
function testFormlessInput() {
    window.status = "Formless input button clicked! This button works outside a form.";
}

function testImageOnclick() {
    window.alert("Image onclick handler works! This demonstrates onclick support for IMG tags.");
}

function testObjectOnclick() {
    window.alert("Object onclick handler works! This demonstrates onclick support for OBJECT tags.");
}

// Location.replace() Test
function testLocationReplace() {
    if (window.confirm("This will navigate away from this page. Continue?")) {
        location.replace("javascript_test.html");
    }
}

// Document.cookie Test
function testCookie() {
    document.cookie = "testcookie=testvalue; path=/";
    var cookieValue = document.cookie;
    window.alert("Cookie test:\nSet cookie: testcookie=testvalue\nRead cookie: " + cookieValue);
}

// Document.writeln() Test
function testWriteln() {
    document.open();
    document.writeln("<H1>document.writeln() Test</H1>");
    document.writeln("<P>This line was written with writeln()</P>");
    document.writeln("<P>This line was also written with writeln()</P>");
    document.writeln("<P>writeln() adds a newline after each write</P>");
    document.close();
}

// Document Collections Test
function testDocumentCollections() {
    var info = "Document Collections:\n";
    info += "Forms: " + document.forms.length + "\n";
    info += "Links: " + document.links.length + "\n";
    info += "Images: " + document.images.length + "\n";
    info += "Anchors: " + document.anchors.length + "\n";
    info += "Applets: " + document.applets.length + "\n";
    info += "Embeds: " + document.embeds.length;
    window.alert(info);
}

// Form Properties Test
function testFormProperties() {
    var form = document.forms[0];
    if (form) {
        var info = "Form Properties:\n";
        info += "Name: " + form.name + "\n";
        info += "Action: " + form.action + "\n";
        info += "Method: " + form.method + "\n";
        info += "Encoding: " + form.encoding + "\n";
        info += "Target: " + form.target + "\n";
        info += "Length (elements): " + form.length;
        window.alert(info);
    } else {
        window.alert("No form found on this page");
    }
}

// Form Methods Test
function testFormReset() {
    var form = document.forms[0];
    if (form) {
        form.reset();
        window.status = "Form reset() method called";
    }
}

function testFormSubmit() {
    if (window.confirm("This will submit the form. Continue?")) {
        var form = document.forms[0];
        if (form) {
            form.submit();
        }
    }
}

// Input Properties and Methods Test
function testInputProperties() {
    var form = document.forms[0];
    if (form && form.elements[0]) {
        var input = form.elements[0];
        var info = "Input Properties:\n";
        info += "Type: " + input.type + "\n";
        info += "Value: " + input.value + "\n";
        info += "Default Value: " + input.defaultValue;
        window.alert(info);
    }
}

function testInputMethods() {
    var form = document.forms[0];
    if (form && form.elements[0]) {
        var input = form.elements[0];
        input.focus();
        window.status = "Input focus() method called";
        window.setTimeout(function() {
            input.select();
            window.status = "Input select() method called";
        }, 1000);
    }
}

// Select Properties Test
function testSelectProperties() {
    var form = document.forms[0];
    if (form) {
        for (var i = 0; i < form.elements.length; i++) {
            if (form.elements[i].tagName && form.elements[i].tagName.toLowerCase() == "select") {
                var select = form.elements[i];
                var info = "Select Properties:\n";
                info += "Length: " + select.length + "\n";
                info += "Selected Index: " + select.selectedIndex;
                window.alert(info);
                return;
            }
        }
    }
    window.alert("No SELECT element found in form");
}

// Option Properties Test
function testOptionProperties() {
    var form = document.forms[0];
    if (form) {
        for (var i = 0; i < form.elements.length; i++) {
            if (form.elements[i].tagName && form.elements[i].tagName.toLowerCase() == "select") {
                var select = form.elements[i];
                if (select.options && select.options.length > 0) {
                    var opt = select.options[0];
                    var info = "Option Properties:\n";
                    info += "Text: " + opt.text + "\n";
                    info += "Value: " + opt.value + "\n";
                    info += "Selected: " + opt.selected + "\n";
                    info += "Default Selected: " + opt.defaultSelected + "\n";
                    info += "Index: " + opt.index;
                    window.alert(info);
                    return;
                }
            }
        }
    }
    window.alert("No OPTION element found in form");
}

// Image Constructor Test
function testImageConstructor() {
    var img = new Image();
    img.src = "aweb.iff";
    img.width = 96;
    img.height = 46;
    var info = "Image Constructor Test:\n";
    info += "Image object created\n";
    info += "src: " + img.src + "\n";
    info += "width: " + img.width + "\n";
    info += "height: " + img.height;
    window.alert(info);
}

// Window Methods Test
function testWindowFocus() {
    window.focus();
    window.status = "Window focus() method called";
}

function testWindowBlur() {
    window.blur();
    window.status = "Window blur() method called";
}

function testWindowScroll() {
    window.scroll(0, 0);
    window.status = "Window scroll(0, 0) method called";
}

// String Methods Tests
function testStringCharCodeAt() {
    var str = "Hello";
    var info = "String.charCodeAt() Test:\n";
    info += "String: " + str + "\n";
    info += "charCodeAt(0): " + str.charCodeAt(0) + " (H)\n";
    info += "charCodeAt(1): " + str.charCodeAt(1) + " (e)";
    window.alert(info);
}

function testStringConcat() {
    var str1 = "Hello";
    var str2 = " World";
    var result = str1.concat(str2);
    window.alert("String.concat() Test:\n" + str1 + ".concat(" + str2 + ") = " + result);
}

function testStringSlice() {
    var str = "Hello World";
    var info = "String.slice() Test:\n";
    info += "Original: " + str + "\n";
    info += "slice(0, 5): " + str.slice(0, 5) + "\n";
    info += "slice(6): " + str.slice(6) + "\n";
    info += "slice(-5): " + str.slice(-5);
    window.alert(info);
}

function testStringSubstr() {
    var str = "Hello World";
    var info = "String.substr() Test:\n";
    info += "Original: " + str + "\n";
    info += "substr(0, 5): " + str.substr(0, 5) + "\n";
    info += "substr(6): " + str.substr(6) + "\n";
    info += "substr(6, 3): " + str.substr(6, 3);
    window.alert(info);
}

function testStringSplit() {
    var str = "apple,banana,cherry";
    var arr = str.split(",");
    var info = "String.split() Test:\n";
    info += "Original: " + str + "\n";
    info += "split(','): " + arr.join(" | ");
    window.alert(info);
}

function testStringSearch() {
    var str = "Hello World";
    var pos = str.search("World");
    window.alert("String.search() Test:\n" + str + ".search('World') = " + pos);
}

function testStringMatch() {
    var str = "Hello World";
    var result = str.match("World");
    var info = "String.match() Test:\n";
    info += "String: " + str + "\n";
    info += "match('World'): " + (result ? result[0] : "null");
    window.alert(info);
}

function testStringReplace() {
    var str = "Hello World";
    var result = str.replace("World", "JavaScript");
    window.alert("String.replace() Test:\n" + str + ".replace('World', 'JavaScript') = " + result);
}

// Array Methods Tests
function testArrayConcat() {
    var arr1 = [1, 2, 3];
    var arr2 = [4, 5, 6];
    var arr3 = arr1.concat(arr2);
    window.alert("Array.concat() Test:\n" + 
                 "arr1: " + arr1.join(", ") + "\n" +
                 "arr2: " + arr2.join(", ") + "\n" +
                 "arr1.concat(arr2): " + arr3.join(", "));
}

function testArrayPopPush() {
    var arr = [1, 2, 3];
    var popped = arr.pop();
    var newLength = arr.push(4, 5);
    window.alert("Array.pop()/push() Test:\n" +
                 "After pop(): " + arr.join(", ") + " (popped: " + popped + ")\n" +
                 "After push(4,5): " + arr.join(", ") + " (length: " + newLength + ")");
}

function testArrayShiftUnshift() {
    var arr = [2, 3, 4];
    var shifted = arr.shift();
    var newLength = arr.unshift(0, 1);
    window.alert("Array.shift()/unshift() Test:\n" +
                 "After shift(): " + arr.join(", ") + " (shifted: " + shifted + ")\n" +
                 "After unshift(0,1): " + arr.join(", ") + " (length: " + newLength + ")");
}

function testArraySlice() {
    var arr = [0, 1, 2, 3, 4, 5];
    var slice1 = arr.slice(1, 4);
    var slice2 = arr.slice(-3);
    window.alert("Array.slice() Test:\n" +
                 "Original: " + arr.join(", ") + "\n" +
                 "slice(1,4): " + slice1.join(", ") + "\n" +
                 "slice(-3): " + slice2.join(", "));
}

function testArraySplice() {
    var arr = [0, 1, 2, 3, 4, 5];
    var removed = arr.splice(2, 2, 'a', 'b');
    window.alert("Array.splice() Test:\n" +
                 "After splice(2,2,'a','b'): " + arr.join(", ") + "\n" +
                 "Removed: " + removed.join(", "));
}

// Date Methods Tests
function testDateSetMethods() {
    var date = new Date();
    date.setYear(2025);
    date.setMonth(0);
    date.setDate(15);
    date.setHours(12);
    date.setMinutes(30);
    date.setSeconds(45);
    var info = "Date Set Methods Test:\n";
    info += "Set to: 2025-01-15 12:30:45\n";
    info += "getYear(): " + date.getYear() + "\n";
    info += "getMonth(): " + date.getMonth() + "\n";
    info += "getDate(): " + date.getDate() + "\n";
    info += "getHours(): " + date.getHours() + "\n";
    info += "getMinutes(): " + date.getMinutes() + "\n";
    info += "getSeconds(): " + date.getSeconds();
    window.alert(info);
}

function testDateGetTimezoneOffset() {
    var date = new Date();
    var offset = date.getTimezoneOffset();
    window.alert("Date.getTimezoneOffset() Test:\n" + 
                 "Timezone offset: " + offset + " minutes");
}

function testDateToGMTString() {
    var date = new Date();
    var gmtStr = date.toGMTString();
    window.alert("Date.toGMTString() Test:\n" + gmtStr);
}

// Math Methods Tests
function testMathTrig() {
    var result = "Math Trigonometric Functions:\n";
    result += "sin(0): " + Math.sin(0) + "\n";
    result += "cos(0): " + Math.cos(0) + "\n";
    result += "tan(0): " + Math.tan(0) + "\n";
    result += "asin(0.5): " + Math.asin(0.5) + "\n";
    result += "acos(0.5): " + Math.acos(0.5) + "\n";
    result += "atan(1): " + Math.atan(1) + "\n";
    result += "atan2(1, 1): " + Math.atan2(1, 1);
    window.alert(result);
}

function testMathExpLog() {
    var result = "Math Exponential/Logarithmic:\n";
    result += "exp(1): " + Math.exp(1) + "\n";
    result += "log(Math.E): " + Math.log(Math.E) + "\n";
    result += "pow(2, 3): " + Math.pow(2, 3) + "\n";
    result += "sqrt(16): " + Math.sqrt(16);
    window.alert(result);
}

// Event Handler Tests
function testOnUnload() {
    window.status = "onunload event handler is set (check when leaving page)";
}

function testOnSelect() {
    window.status = "onselect event triggered - text was selected";
}

// Page Load Handler
window.onload = function() {
    window.defaultStatus = "AWeb JavaScript Compatibility Test - All features loaded";
};

//-->
</SCRIPT>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000" LINK="#0000ff" VLINK="#800080" ALINK="#ff0000" ONLOAD="window.defaultStatus='JavaScript Test Page Loaded'">

<H1><IMG SRC="aweb.iff" WIDTH="192" HEIGHT="93" ALT="(logo)">&nbsp; JavaScript Compatibility Test</H1>

<P>This page tests AWeb's JavaScript compatibility. Each test includes a description of what it tests, how to run it, what results you should expect, and the interactive test itself.</P>

<HR>

<A NAME="top"></A>
<CENTER>
<H2>Quick Navigation</H2>
<A HREF="#core">Core Language</A> |
<!-- <A HREF="#ecmascript3">ECMAScript 3 Features</A> | -->
<A HREF="#window">Window Object</A> |
<A HREF="#document">Document Object</A> |
<A HREF="#history">History Object</A> |
<A HREF="#navigator">Navigator Object</A> |
<A HREF="#location">Location Object</A> |
<A HREF="#builtin">Built-in Objects</A> |
<A HREF="#forms">HTML Forms</A> |
<A HREF="#windowmethods">Window Methods</A> |
<A HREF="#image">Image Constructor</A> |
<A HREF="#events">Event Handlers</A> |
<A HREF="#compatibility">Compatibility Notes</A>
</CENTER>

<HR>

<A NAME="core"></A>
<H2>Core Language Features</H2>

<H3>Test 1: Variables and Data Types</H3>
<P><STRONG>What it tests:</STRONG> JavaScript variable declaration and basic data types (String, Number, Array).</P>
<P><STRONG>How to run:</STRONG> The test runs automatically when the page loads. Check the output below.</P>
<P><STRONG>Expected results:</STRONG> You should see a variable test message, an array test showing numbers 1-5, and a function test showing the result of 5+3=8.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test Output:</STRONG><BR>
<SCRIPT LANGUAGE="JavaScript">
<!--
var testVar = "JavaScript is working!";
document.write("<P><STRONG>Variable test:</STRONG> " + testVar + "</P>");

var testArray = [1, 2, 3, 4, 5];
document.write("<P><STRONG>Array test:</STRONG> " + testArray.join(", ") + "</P>");

function testFunction(x, y) {
    return x + y;
}
document.write("<P><STRONG>Function test:</STRONG> testFunction(5, 3) = " + testFunction(5, 3) + "</P>");
//-->
</SCRIPT>
</TD>
</TR>
</TABLE>

<H3>Not Supported</H3>
<UL>
<LI>Regular Expressions (RegExp object) - Very limited or no support</LI>
<LI>ES6 features (let/const, arrow functions, classes) - Not supported</LI>
<LI>Modern Array methods (forEach, map, filter, etc.) - Not supported</LI>
</UL>

<P><A HREF="#top">Back to top</A></P>

<HR>

<!-- ECMAScript 3 (JavaScript 1.5) Features - COMMENTED OUT (not yet implemented)
<A NAME="ecmascript3"></A>
<H2>ECMAScript 3 (JavaScript 1.5) Features</H2>

<H3>Test 1: try/catch/finally</H3>
<P><STRONG>What it tests:</STRONG> Exception handling with try/catch/finally blocks for robust error handling.</P>
<P><STRONG>How to run:</STRONG> Click the "Test try/catch/finally" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that a try block executed, an error was caught, and the finally block executed.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testTryCatch()" VALUE="Test try/catch/finally">
</TD>
</TR>
</TABLE>

<H3>Test 2: throw Statement</H3>
<P><STRONG>What it tests:</STRONG> The throw statement for throwing custom exceptions with Error objects.</P>
<P><STRONG>How to run:</STRONG> Click the "Test throw" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that TypeError and RangeError exceptions were thrown and caught correctly.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testThrow()" VALUE="Test throw">
</TD>
</TR>
</TABLE>

<H3>Test 3: switch/case/default</H3>
<P><STRONG>What it tests:</STRONG> Multi-way branching with switch statements, case labels, and default cases.</P>
<P><STRONG>How to run:</STRONG> Click the "Test switch" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the current day of the week determined using a switch statement.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testSwitch()" VALUE="Test switch/case/default">
</TD>
</TR>
</TABLE>

<H3>Test 4: instanceof Operator</H3>
<P><STRONG>What it tests:</STRONG> The instanceof operator for type checking objects and constructors.</P>
<P><STRONG>How to run:</STRONG> Click the "Test instanceof" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing instanceof checks for Array, String, Number, Object, and Date types.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testInstanceof()" VALUE="Test instanceof">
</TD>
</TR>
</TABLE>

<H3>Test 5: Strict Equality (=== and !==)</H3>
<P><STRONG>What it tests:</STRONG> The strict equality operators (=== and !==) that compare both value and type.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Strict Equality" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that 5 === 5 is true, but 5 === '5' is false (different types), demonstrating type-strict comparison.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testStrictEquality()" VALUE="Test Strict Equality (===, !=)">
</TD>
</TR>
</TABLE>

<H3>Test 6: Error Objects</H3>
<P><STRONG>What it tests:</STRONG> Native Error object constructors including Error, TypeError, RangeError, SyntaxError, ReferenceError, URIError, and EvalError.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Error Objects" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that different error types can be created and caught, each with their own name and message properties.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testErrorObjects()" VALUE="Test Error Objects">
</TD>
</TR>
</TABLE>

<P><A HREF="#top">Back to top</A></P>

<HR>
-->

<A NAME="window"></A>
<H2>Window Object</H2>

<H3>Test 1: window.alert()</H3>
<P><STRONG>What it tests:</STRONG> The window.alert() method displays a modal alert dialog with a message.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Alert" button below.</P>
<P><STRONG>Expected results:</STRONG> A dialog box should appear with the message "This is a JavaScript alert dialog!". Click OK to dismiss it.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testAlert()" VALUE="Test Alert">
</TD>
</TR>
</TABLE>

<H3>Test 2: window.confirm()</H3>
<P><STRONG>What it tests:</STRONG> The window.confirm() method displays a modal confirmation dialog with OK and Cancel buttons.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Confirm" button below.</P>
<P><STRONG>Expected results:</STRONG> A dialog box should appear asking "Do you want to continue?" with OK and Cancel buttons. After clicking either button, check the status bar at the bottom of the browser window - it should show "You clicked OK" or "You clicked Cancel" depending on your choice.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testConfirm()" VALUE="Test Confirm">
</TD>
</TR>
</TABLE>

<H3>Test 3: window.prompt()</H3>
<P><STRONG>What it tests:</STRONG> The window.prompt() method displays a modal dialog with a text input field.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Prompt" button below.</P>
<P><STRONG>Expected results:</STRONG> A dialog box should appear asking "What is your name?" with a text field pre-filled with "Guest". Enter a name and click OK, or click Cancel. The status bar should show "Hello, [your name]!" if you entered a name, or "No name entered" if you clicked Cancel.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testPrompt()" VALUE="Test Prompt">
</TD>
</TR>
</TABLE>

<H3>Test 4: window.status and window.defaultStatus</H3>
<P><STRONG>What it tests:</STRONG> The window.status property controls the status bar text, and window.defaultStatus sets the default status bar text.</P>
<P><STRONG>How to run:</STRONG> Look at the status bar at the bottom of the browser window. It should show "JavaScript 1.1 Test Page Loaded" when the page loads.</P>
<P><STRONG>Expected results:</STRONG> The status bar should display the default message. When you hover over links or interact with elements that change the status, the status bar text should update accordingly.</P>

<H3>Test 5: window.setTimeout()</H3>
<P><STRONG>What it tests:</STRONG> The window.setTimeout() method executes a function after a specified delay in milliseconds.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Timeout" button below.</P>
<P><STRONG>Expected results:</STRONG> The status bar should immediately show "Status will clear in 3 seconds...". After 3 seconds, the status bar should clear (become empty).</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testTimeout()" VALUE="Test Timeout">
</TD>
</TR>
</TABLE>

<H3>Test 6: window.setInterval() and window.clearInterval()</H3>
<P><STRONG>What it tests:</STRONG> The window.setInterval() method repeatedly executes a function at specified intervals, and window.clearInterval() stops the interval.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Interval" button below.</P>
<P><STRONG>Expected results:</STRONG> The status bar should show "Interval count: 1", then "Interval count: 2", and so on, updating every second. After 5 counts, it should show "Interval stopped" and the interval should stop updating.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testInterval()" VALUE="Test Interval">
</TD>
</TR>
</TABLE>

<H3>Test 7: window.open()</H3>
<P><STRONG>What it tests:</STRONG> The window.open() method opens a new browser window.</P>
<P><STRONG>How to run:</STRONG> Click the "Open New Window" button below.</P>
<P><STRONG>Expected results:</STRONG> A new window should open (if not blocked by browser settings). The status bar should show "New window opened" if successful, or "Window blocked or failed" if the window could not be opened. Note: AWeb may block popup windows depending on settings.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testOpenWindow()" VALUE="Open New Window">
</TD>
</TR>
</TABLE>

<H3>Test 8: window.close()</H3>
<P><STRONG>What it tests:</STRONG> The window.close() method attempts to close the current window.</P>
<P><STRONG>How to run:</STRONG> Click the "Close Window" button below.</P>
<P><STRONG>Expected results:</STRONG> The window may or may not close depending on browser security settings. The status bar should show "Window close attempted" or "Window cannot be closed (may require user interaction)". Note: AWeb typically only allows closing windows that were opened by JavaScript.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testCloseWindow()" VALUE="Close Window">
</TD>
</TR>
</TABLE>

<H3>Not Supported</H3>
<UL>
<LI>window.showModalDialog() - Not supported</LI>
<LI>window.showModelessDialog() - Not supported</LI>
<LI>window.resizeTo() - Not supported</LI>
<LI>window.moveTo() - Not supported</LI>
<LI>window.print() - Not supported</LI>
</UL>

<P><A HREF="#top">Back to top</A></P>

<HR>

<A NAME="document"></A>
<H2>Document Object</H2>

<H3>Test 1: document.write()</H3>
<P><STRONG>What it tests:</STRONG> The document.write() method writes HTML content to the document.</P>
<P><STRONG>How to run:</STRONG> Click the "Test document.write()" button below.</P>
<P><STRONG>Expected results:</STRONG> The current page should be replaced with new content showing "Dynamic Content" as a heading, a paragraph explaining it was written by JavaScript, and the current date and time. This demonstrates that document.write() can dynamically generate HTML content.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testWrite()" VALUE="Test document.write()">
</TD>
</TR>
</TABLE>

<H3>Test 2: Document Properties</H3>
<P><STRONG>What it tests:</STRONG> The document.title, document.URL, document.lastModified properties, and the document.forms[], document.images[], document.links[] arrays.</P>
<P><STRONG>How to run:</STRONG> Click the "Show Document Info" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the document title, URL, last modified date, and counts of forms, images, and links on the page.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="showDocumentInfo()" VALUE="Show Document Info">
</TD>
</TR>
</TABLE>

<H3>Test 3: Document Element Arrays</H3>
<P><STRONG>What it tests:</STRONG> The document.forms[], document.images[], and document.links[] arrays that contain references to all forms, images, and links on the page.</P>
<P><STRONG>How to run:</STRONG> Click the "Count Elements" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the number of images, forms, and links found on this page. The counts should match the actual elements present.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="window.alert('Images: ' + document.images.length + ', Forms: ' + document.forms.length + ', Links: ' + document.links.length)" VALUE="Count Elements">
</TD>
</TR>
</TABLE>

<H3>Test 4: document.getElementById()</H3>
<P><STRONG>What it tests:</STRONG> The document.getElementById() method retrieves an element by its ID attribute.</P>
<P><STRONG>How to run:</STRONG> Click the "Test getElementById" button below.</P>
<P><STRONG>Expected results:</STRONG> The status bar should show "Element found (getElementById is supported)" if the method works, or "Element not found (getElementById may not be supported)" if it doesn't. Note: getElementById() may have limited support in AWeb's JavaScript 1.1 implementation.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<DIV ID="testdiv">
This is a test div element. Click the button to test getElementById.
</DIV>
<INPUT TYPE="button" ONCLICK="testGetElementById()" VALUE="Test getElementById">
</TD>
</TR>
</TABLE>

<H3>Test 5: document.writeln()</H3>
<P><STRONG>What it tests:</STRONG> The document.writeln() method writes HTML content to the document with a newline after each write.</P>
<P><STRONG>How to run:</STRONG> Click the "Test document.writeln()" button below.</P>
<P><STRONG>Expected results:</STRONG> The current page should be replaced with new content written using writeln(). This is similar to document.write() but adds newlines.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testWriteln()" VALUE="Test document.writeln()">
</TD>
</TR>
</TABLE>

<H3>Test 6: document.cookie</H3>
<P><STRONG>What it tests:</STRONG> The document.cookie property for reading and writing cookies.</P>
<P><STRONG>How to run:</STRONG> Click the "Test document.cookie" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that a cookie was set and then read back. The cookie value should match what was set.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testCookie()" VALUE="Test document.cookie">
</TD>
</TR>
</TABLE>

<H3>Test 7: Document Collections (anchors, applets, embeds)</H3>
<P><STRONG>What it tests:</STRONG> The document.anchors[], document.applets[], and document.embeds[] arrays.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Document Collections" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the count of forms, links, images, anchors, applets, and embeds on the page.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testDocumentCollections()" VALUE="Test Document Collections">
</TD>
</TR>
</TABLE>

<H3>Not Supported</H3>
<UL>
<LI>Full DOM Level 1 implementation - Very limited</LI>
<LI>document.createElement() - Not supported</LI>
<LI>document.appendChild() - Not supported</LI>
<LI>document.removeChild() - Not supported</LI>
<LI>Advanced DOM manipulation - Not supported</LI>
</UL>

<P><A HREF="#top">Back to top</A></P>

<HR>

<A NAME="history"></A>
<H2>History Object</H2>

<H3>Test 1: history.back()</H3>
<P><STRONG>What it tests:</STRONG> The history.back() method navigates to the previous page in the browser history.</P>
<P><STRONG>How to run:</STRONG> First navigate to another page, then come back to this page. Then click the "History Back" button below.</P>
<P><STRONG>Expected results:</STRONG> The browser should navigate to the previous page in the history (if one exists). This is equivalent to clicking the browser's back button.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="goBack()" VALUE="History Back">
</TD>
</TR>
</TABLE>

<H3>Test 2: history.forward()</H3>
<P><STRONG>What it tests:</STRONG> The history.forward() method navigates to the next page in the browser history.</P>
<P><STRONG>How to run:</STRONG> After using history.back(), click the "History Forward" button below.</P>
<P><STRONG>Expected results:</STRONG> The browser should navigate to the next page in the history (if one exists). This is equivalent to clicking the browser's forward button.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="goForward()" VALUE="History Forward">
</TD>
</TR>
</TABLE>

<H3>Test 3: history.go()</H3>
<P><STRONG>What it tests:</STRONG> The history.go() method navigates to a specific position in the browser history. Positive numbers go forward, negative numbers go back.</P>
<P><STRONG>How to run:</STRONG> Click either "Go Back 2" or "Go Forward 2" button below.</P>
<P><STRONG>Expected results:</STRONG> The browser should navigate 2 pages back or forward in the history (if those pages exist).</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="goHistory(-2)" VALUE="Go Back 2"> <INPUT TYPE="button" ONCLICK="goHistory(2)" VALUE="Go Forward 2">
</TD>
</TR>
</TABLE>

<H3>Test 4: history.length</H3>
<P><STRONG>What it tests:</STRONG> The history.length property returns the number of entries in the browser history.</P>
<P><STRONG>How to run:</STRONG> Click the "Show History Info" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the number of pages in the browser history. The number should be greater than 0.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="showHistoryInfo()" VALUE="Show History Info">
</TD>
</TR>
</TABLE>

<P><A HREF="#top">Back to top</A></P>

<HR>

<A NAME="navigator"></A>
<H2>Navigator Object</H2>

<H3>Test 1: Navigator Properties</H3>
<P><STRONG>What it tests:</STRONG> The navigator object properties that provide information about the browser and platform.</P>
<P><STRONG>How to run:</STRONG> Click the "Show Navigator Info" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing:
<UL>
<LI>App Code Name - Browser code name (typically "Mozilla")</LI>
<LI>App Name - Browser name (should show "AWeb" or similar)</LI>
<LI>App Version - Browser version information</LI>
<LI>User Agent - Complete user agent string</LI>
<LI>Platform - Operating system platform</LI>
<LI>Java Enabled - Whether Java is enabled (true/false)</LI>
<LI>Taint Enabled - Whether data tainting is enabled (typically false)</LI>
</UL>
</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="showNavigatorInfo()" VALUE="Show Navigator Info">
</TD>
</TR>
</TABLE>

<H3>Test 2: navigator.userAgent (Displayed)</H3>
<P><STRONG>What it tests:</STRONG> The navigator.userAgent property displayed directly in the page.</P>
<P><STRONG>How to run:</STRONG> Look at the text below - it displays automatically when the page loads.</P>
<P><STRONG>Expected results:</STRONG> You should see the user agent string displayed in the test area below.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test Output:</STRONG><BR>
User Agent: <SCRIPT LANGUAGE="JavaScript">document.write(navigator.userAgent);</SCRIPT>
</TD>
</TR>
</TABLE>

<P><A HREF="#top">Back to top</A></P>

<HR>

<A NAME="location"></A>
<H2>Location Object</H2>

<H3>Test 1: Location Properties</H3>
<P><STRONG>What it tests:</STRONG> The location object properties that provide information about the current page URL.</P>
<P><STRONG>How to run:</STRONG> Click the "Show Location Info" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing:
<UL>
<LI>HREF - Complete URL of the current page</LI>
<LI>Protocol - URL protocol (http:, https:, file:, etc.)</LI>
<LI>Host - Hostname and port number</LI>
<LI>Hostname - Hostname only</LI>
<LI>Port - Port number (empty if default)</LI>
<LI>Pathname - Path portion of the URL</LI>
<LI>Search - Query string (empty if none)</LI>
<LI>Hash - Fragment identifier (empty if none)</LI>
</UL>
</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="showLocationInfo()" VALUE="Show Location Info">
</TD>
</TR>
</TABLE>

<H3>Test 2: location.href (Displayed)</H3>
<P><STRONG>What it tests:</STRONG> The location.href property displayed directly in the page.</P>
<P><STRONG>How to run:</STRONG> Look at the text below - it displays automatically when the page loads.</P>
<P><STRONG>Expected results:</STRONG> You should see the current page URL displayed in the test area below.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test Output:</STRONG><BR>
Current URL: <SCRIPT LANGUAGE="JavaScript">document.write(location.href);</SCRIPT>
</TD>
</TR>
</TABLE>

<H3>Test 3: location.reload()</H3>
<P><STRONG>What it tests:</STRONG> The location.reload() method reloads the current page.</P>
<P><STRONG>How to run:</STRONG> Click the "Reload Page" button below.</P>
<P><STRONG>Expected results:</STRONG> A confirmation dialog should appear asking "Reload this page?". If you click OK, the page should reload. If you click Cancel, nothing should happen.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testReload()" VALUE="Reload Page">
</TD>
</TR>
</TABLE>

<H3>Test 4: location.replace()</H3>
<P><STRONG>What it tests:</STRONG> The location.replace() method replaces the current page in history (doesn't create a new history entry).</P>
<P><STRONG>How to run:</STRONG> Click the "Test location.replace()" button below.</P>
<P><STRONG>Expected results:</STRONG> A confirmation dialog should appear. If you click OK, the page should reload using replace() instead of reload(). This means the back button won't go to the previous page.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testLocationReplace()" VALUE="Test location.replace()">
</TD>
</TR>
</TABLE>

<P><A HREF="#top">Back to top</A></P>

<HR>

<A NAME="builtin"></A>
<H2>Built-in Objects</H2>

<H3>Test 1: String Object Methods</H3>
<P><STRONG>What it tests:</STRONG> String object methods including length, charAt(), indexOf(), lastIndexOf(), substring(), toUpperCase(), and toLowerCase().</P>
<P><STRONG>How to run:</STRONG> Click the "Test String Methods" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing:
<UL>
<LI>Original string: "Hello World"</LI>
<LI>Length: 11</LI>
<LI>UpperCase: "HELLO WORLD"</LI>
<LI>LowerCase: "hello world"</LI>
<LI>CharAt(0): "H" (first character)</LI>
<LI>IndexOf('o'): 4 (first occurrence of 'o')</LI>
<LI>LastIndexOf('o'): 7 (last occurrence of 'o')</LI>
<LI>Substring(0,5): "Hello" (characters 0-4)</LI>
</UL>
</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testStringMethods()" VALUE="Test String Methods">
</TD>
</TR>
</TABLE>

<H3>Test 1a: String.charCodeAt()</H3>
<P><STRONG>What it tests:</STRONG> The String.charCodeAt() method returns the Unicode value of a character at a given position.</P>
<P><STRONG>How to run:</STRONG> Click the "Test String.charCodeAt()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the character codes for characters at positions 0 and 1.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testStringCharCodeAt()" VALUE="Test String.charCodeAt()">
</TD>
</TR>
</TABLE>

<H3>Test 1b: String.concat()</H3>
<P><STRONG>What it tests:</STRONG> The String.concat() method concatenates strings together.</P>
<P><STRONG>How to run:</STRONG> Click the "Test String.concat()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that two strings were concatenated.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testStringConcat()" VALUE="Test String.concat()">
</TD>
</TR>
</TABLE>

<H3>Test 1c: String.slice()</H3>
<P><STRONG>What it tests:</STRONG> The String.slice() method extracts a portion of a string.</P>
<P><STRONG>How to run:</STRONG> Click the "Test String.slice()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that slice() extracted portions of the string, including negative index support.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testStringSlice()" VALUE="Test String.slice()">
</TD>
</TR>
</TABLE>

<H3>Test 1d: String.substr()</H3>
<P><STRONG>What it tests:</STRONG> The String.substr() method extracts a substring starting at a position with a specified length.</P>
<P><STRONG>How to run:</STRONG> Click the "Test String.substr()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that substr() extracted substrings from the string.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testStringSubstr()" VALUE="Test String.substr()">
</TD>
</TR>
</TABLE>

<H3>Test 1e: String.split()</H3>
<P><STRONG>What it tests:</STRONG> The String.split() method splits a string into an array of substrings.</P>
<P><STRONG>How to run:</STRONG> Click the "Test String.split()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that split() converted a comma-separated string into an array.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testStringSplit()" VALUE="Test String.split()">
</TD>
</TR>
</TABLE>

<H3>Test 1f: String.search()</H3>
<P><STRONG>What it tests:</STRONG> The String.search() method searches for a pattern in a string.</P>
<P><STRONG>How to run:</STRONG> Click the "Test String.search()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the position where the search pattern was found.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testStringSearch()" VALUE="Test String.search()">
</TD>
</TR>
</TABLE>

<H3>Test 1g: String.match()</H3>
<P><STRONG>What it tests:</STRONG> The String.match() method matches a pattern in a string.</P>
<P><STRONG>How to run:</STRONG> Click the "Test String.match()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the matched substring.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testStringMatch()" VALUE="Test String.match()">
</TD>
</TR>
</TABLE>

<H3>Test 1h: String.replace()</H3>
<P><STRONG>What it tests:</STRONG> The String.replace() method replaces occurrences of a pattern in a string.</P>
<P><STRONG>How to run:</STRONG> Click the "Test String.replace()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that "World" was replaced with "JavaScript" in the string.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testStringReplace()" VALUE="Test String.replace()">
</TD>
</TR>
</TABLE>

<H3>Test 2: Array Object Methods (Basic)</H3>
<P><STRONG>What it tests:</STRONG> Array object methods including length, join(), reverse(), and sort().</P>
<P><STRONG>How to run:</STRONG> Click the "Test Array Methods" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing:
<UL>
<LI>Original array: "apple, banana, cherry"</LI>
<LI>Length: 3</LI>
<LI>Reversed: "cherry, banana, apple"</LI>
<LI>Sorted: "apple, banana, cherry" (alphabetically sorted)</LI>
</UL>
</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testArrayMethods()" VALUE="Test Array Methods">
</TD>
</TR>
</TABLE>

<H3>Test 2a: Array.concat()</H3>
<P><STRONG>What it tests:</STRONG> The Array.concat() method that concatenates arrays.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Array.concat()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that two arrays [1,2,3] and [4,5,6] were concatenated into [1,2,3,4,5,6].</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testArrayConcat()" VALUE="Test Array.concat()">
</TD>
</TR>
</TABLE>

<H3>Test 2b: Array.pop() and Array.push()</H3>
<P><STRONG>What it tests:</STRONG> The Array.pop() method removes and returns the last element, and Array.push() adds elements to the end.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Array.pop()/push()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that pop() removed the last element and push() added new elements, returning the new length.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testArrayPopPush()" VALUE="Test Array.pop()/push()">
</TD>
</TR>
</TABLE>

<H3>Test 2c: Array.shift() and Array.unshift()</H3>
<P><STRONG>What it tests:</STRONG> The Array.shift() method removes and returns the first element, and Array.unshift() adds elements to the beginning.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Array.shift()/unshift()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that shift() removed the first element and unshift() added new elements to the beginning, returning the new length.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testArrayShiftUnshift()" VALUE="Test Array.shift()/unshift()">
</TD>
</TR>
</TABLE>

<H3>Test 2d: Array.slice()</H3>
<P><STRONG>What it tests:</STRONG> The Array.slice() method extracts a portion of an array without modifying the original.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Array.slice()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that slice() extracted elements from the array, including negative index support.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testArraySlice()" VALUE="Test Array.slice()">
</TD>
</TR>
</TABLE>

<H3>Test 2e: Array.splice()</H3>
<P><STRONG>What it tests:</STRONG> The Array.splice() method removes and/or inserts elements at a specific position.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Array.splice()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that splice() removed elements and inserted new ones, returning the removed elements.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testArraySplice()" VALUE="Test Array.splice()">
</TD>
</TR>
</TABLE>

<!-- Enhanced Array Methods Tests - COMMENTED OUT (JS 1.5 features not yet implemented)
<H3>Test 2a: Array.concat()</H3>
<P><STRONG>What it tests:</STRONG> The Array.concat() method that concatenates arrays.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Array.concat()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that two arrays [1,2,3] and [4,5,6] were concatenated into [1,2,3,4,5,6].</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testArrayConcat()" VALUE="Test Array.concat()">
</TD>
</TR>
</TABLE>

<H3>Test 2b: Array.pop() and Array.push()</H3>
<P><STRONG>What it tests:</STRONG> The Array.pop() method removes and returns the last element, and Array.push() adds elements to the end.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Array.pop()/push()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that pop() removed the last element and push() added new elements, returning the new length.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testArrayPopPush()" VALUE="Test Array.pop()/push()">
</TD>
</TR>
</TABLE>

<H3>Test 2c: Array.shift() and Array.unshift()</H3>
<P><STRONG>What it tests:</STRONG> The Array.shift() method removes and returns the first element, and Array.unshift() adds elements to the beginning.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Array.shift()/unshift()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that shift() removed the first element and unshift() added new elements to the beginning, returning the new length.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testArrayShiftUnshift()" VALUE="Test Array.shift()/unshift()">
</TD>
</TR>
</TABLE>

<H3>Test 2d: Array.slice()</H3>
<P><STRONG>What it tests:</STRONG> The Array.slice() method extracts a portion of an array without modifying the original.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Array.slice()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that slice() extracted elements from the array, including negative index support.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testArraySlice()" VALUE="Test Array.slice()">
</TD>
</TR>
</TABLE>

<H3>Test 2e: Array.splice()</H3>
<P><STRONG>What it tests:</STRONG> The Array.splice() method removes and/or inserts elements at a specific position.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Array.splice()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that splice() removed elements and inserted new ones, returning the removed elements.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testArraySplice()" VALUE="Test Array.splice()">
</TD>
</TR>
</TABLE>

<H3>Test 2f: Array.toLocaleString()</H3>
<P><STRONG>What it tests:</STRONG> The Array.toLocaleString() method converts array elements to locale-aware strings.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Array.toLocaleString()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that toLocaleString() converted array elements (including Date objects) to locale-aware string representations.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testArrayToLocaleString()" VALUE="Test Array.toLocaleString()">
</TD>
</TR>
</TABLE>

<H3>Test 2g: Object.prototype Methods</H3>
<P><STRONG>What it tests:</STRONG> Object.prototype methods including hasOwnProperty(), propertyIsEnumerable(), and isPrototypeOf().</P>
<P><STRONG>How to run:</STRONG> Click the "Test Object Methods" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that these methods correctly identify own properties, enumerable properties, and prototype relationships.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testObjectMethods()" VALUE="Test Object.prototype Methods">
</TD>
</TR>
</TABLE>
-->

<H3>Test 3: Math Object</H3>
<P><STRONG>What it tests:</STRONG> Math object constants and methods including PI, E, random(), round(), floor(), ceil(), max(), min(), abs(), and sqrt().</P>
<P><STRONG>How to run:</STRONG> Click the "Test Math Object" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing:
<UL>
<LI>PI: 3.141592653589793 (or similar)</LI>
<LI>E: 2.718281828459045 (or similar)</LI>
<LI>Random: A random number between 0 and 1 (different each time)</LI>
<LI>Round 3.7: 4</LI>
<LI>Floor 3.7: 3</LI>
<LI>Ceil 3.2: 4</LI>
<LI>Max(5,10): 10</LI>
<LI>Min(5,10): 5</LI>
<LI>Abs(-5): 5</LI>
<LI>Sqrt(16): 4</LI>
</UL>
</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testMath()" VALUE="Test Math Object">
</TD>
</TR>
</TABLE>

<H3>Test 3a: Math Trigonometric Functions</H3>
<P><STRONG>What it tests:</STRONG> Math trigonometric methods including sin(), cos(), tan(), asin(), acos(), atan(), and atan2().</P>
<P><STRONG>How to run:</STRONG> Click the "Test Math Trig Functions" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the results of various trigonometric calculations.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testMathTrig()" VALUE="Test Math Trig Functions">
</TD>
</TR>
</TABLE>

<H3>Test 3b: Math Exponential/Logarithmic Functions</H3>
<P><STRONG>What it tests:</STRONG> Math exponential and logarithmic methods including exp(), log(), pow(), and sqrt().</P>
<P><STRONG>How to run:</STRONG> Click the "Test Math Exp/Log Functions" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the results of exponential and logarithmic calculations.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testMathExpLog()" VALUE="Test Math Exp/Log Functions">
</TD>
</TR>
</TABLE>

<H3>Test 4: Date Object</H3>
<P><STRONG>What it tests:</STRONG> Date object creation and methods including getTime(), getYear(), getMonth(), getDate(), getDay(), getHours(), and getMinutes().</P>
<P><STRONG>How to run:</STRONG> Click the "Test Date Object" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing:
<UL>
<LI>Current Date: A string representation of the current date and time</LI>
<LI>getTime(): Number of milliseconds since January 1, 1970</LI>
<LI>getYear(): Current year (may be 2-digit or 4-digit depending on implementation)</LI>
<LI>getMonth(): Current month (0-11, where 0 is January)</LI>
<LI>getDate(): Day of month (1-31)</LI>
<LI>getDay(): Day of week (0-6, where 0 is Sunday)</LI>
<LI>getHours(): Current hour (0-23)</LI>
<LI>getMinutes(): Current minutes (0-59)</LI>
</UL>
</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testDate()" VALUE="Test Date Object">
</TD>
</TR>
</TABLE>

<H3>Test 4a: Date Set Methods</H3>
<P><STRONG>What it tests:</STRONG> Date setter methods including setYear(), setMonth(), setDate(), setHours(), setMinutes(), and setSeconds().</P>
<P><STRONG>How to run:</STRONG> Click the "Test Date Set Methods" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that the date was set to specific values and then retrieved.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testDateSetMethods()" VALUE="Test Date Set Methods">
</TD>
</TR>
</TABLE>

<H3>Test 4b: Date.getTimezoneOffset()</H3>
<P><STRONG>What it tests:</STRONG> The Date.getTimezoneOffset() method returns the timezone offset in minutes.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Date.getTimezoneOffset()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the timezone offset in minutes.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testDateGetTimezoneOffset()" VALUE="Test Date.getTimezoneOffset()">
</TD>
</TR>
</TABLE>

<H3>Test 4c: Date.toGMTString()</H3>
<P><STRONG>What it tests:</STRONG> The Date.toGMTString() method converts a date to a GMT string.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Date.toGMTString()" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the date as a GMT string.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testDateToGMTString()" VALUE="Test Date.toGMTString()">
</TD>
</TR>
</TABLE>

<H3>Not Supported</H3>
<UL>
<LI>RegExp object - Regular expressions not supported</LI>
<LI>JSON object - JSON parsing/stringifying not supported</LI>
<LI>Modern Array methods (forEach, map, filter, reduce, etc.) - Not supported</LI>
<LI>Advanced String methods (split, replace, match, etc.) - Limited or not supported</LI>
</UL>

<P><A HREF="#top">Back to top</A></P>

<HR>

<A NAME="forms"></A>
<H2>HTML Forms</H2>

<H3>Test 1: Form Properties</H3>
<P><STRONG>What it tests:</STRONG> Form object properties including name, action, method, encoding, target, and length.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Form Properties" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the values of all form properties for the first form on the page.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testFormProperties()" VALUE="Test Form Properties">
</TD>
</TR>
</TABLE>

<H3>Test 2: Form Methods</H3>
<P><STRONG>What it tests:</STRONG> Form object methods including reset() and submit().</P>
<P><STRONG>How to run:</STRONG> Click either the "Test Form.reset()" or "Test Form.submit()" button below.</P>
<P><STRONG>Expected results:</STRONG> 
<UL>
<LI>reset(): The form fields should be reset to their default values.</LI>
<LI>submit(): A confirmation dialog should appear, and if confirmed, the form should be submitted.</LI>
</UL>
</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testFormReset()" VALUE="Test Form.reset()">
<INPUT TYPE="button" ONCLICK="testFormSubmit()" VALUE="Test Form.submit()">
</TD>
</TR>
</TABLE>

<H3>Test 3: Input Properties</H3>
<P><STRONG>What it tests:</STRONG> Input object properties including type, value, and defaultValue.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Input Properties" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the type, value, and defaultValue of the first input field in the form.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testInputProperties()" VALUE="Test Input Properties">
</TD>
</TR>
</TABLE>

<H3>Test 4: Input Methods</H3>
<P><STRONG>What it tests:</STRONG> Input object methods including focus(), blur(), and select().</P>
<P><STRONG>How to run:</STRONG> Click the "Test Input Methods" button below.</P>
<P><STRONG>Expected results:</STRONG> The first input field should receive focus, and after 1 second, its text should be selected. Check the status bar for messages.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testInputMethods()" VALUE="Test Input Methods">
</TD>
</TR>
</TABLE>

<H3>Test 5: Select Properties</H3>
<P><STRONG>What it tests:</STRONG> Select object properties including length and selectedIndex.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Select Properties" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the length and selectedIndex of the first SELECT element in the form.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testSelectProperties()" VALUE="Test Select Properties">
</TD>
</TR>
</TABLE>

<H3>Test 6: Option Properties</H3>
<P><STRONG>What it tests:</STRONG> Option object properties including text, value, selected, defaultSelected, and index.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Option Properties" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing the properties of the first option in the first SELECT element.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testOptionProperties()" VALUE="Test Option Properties">
</TD>
</TR>
</TABLE>

<P><A HREF="#top">Back to top</A></P>

<HR>

<A NAME="windowmethods"></A>
<H2>Window Methods</H2>

<H3>Test 1: window.focus()</H3>
<P><STRONG>What it tests:</STRONG> The window.focus() method brings the window to the front and gives it focus.</P>
<P><STRONG>How to run:</STRONG> Click the "Test window.focus()" button below.</P>
<P><STRONG>Expected results:</STRONG> The window should receive focus and the status bar should show "Window focus() method called".</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testWindowFocus()" VALUE="Test window.focus()">
</TD>
</TR>
</TABLE>

<H3>Test 2: window.blur()</H3>
<P><STRONG>What it tests:</STRONG> The window.blur() method removes focus from the window.</P>
<P><STRONG>How to run:</STRONG> Click the "Test window.blur()" button below.</P>
<P><STRONG>Expected results:</STRONG> The window should lose focus and the status bar should show "Window blur() method called".</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testWindowBlur()" VALUE="Test window.blur()">
</TD>
</TR>
</TABLE>

<H3>Test 3: window.scroll()</H3>
<P><STRONG>What it tests:</STRONG> The window.scroll() method scrolls the window to a specific position.</P>
<P><STRONG>How to run:</STRONG> Scroll down the page, then click the "Test window.scroll()" button below.</P>
<P><STRONG>Expected results:</STRONG> The window should scroll to the top (position 0,0) and the status bar should show "Window scroll(0, 0) method called".</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testWindowScroll()" VALUE="Test window.scroll()">
</TD>
</TR>
</TABLE>

<P><A HREF="#top">Back to top</A></P>

<HR>

<A NAME="image"></A>
<H2>Image Constructor</H2>

<H3>Test 1: Image() Constructor</H3>
<P><STRONG>What it tests:</STRONG> The Image() constructor creates a new Image object that can be used to preload images.</P>
<P><STRONG>How to run:</STRONG> Click the "Test Image Constructor" button below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear showing that an Image object was created with properties for src, width, and height.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testImageConstructor()" VALUE="Test Image Constructor">
</TD>
</TR>
</TABLE>

<P><A HREF="#top">Back to top</A></P>

<HR>

<A NAME="events"></A>
<H2>Event Handlers</H2>

<H3>Test 1: ONMOUSEOVER and ONMOUSEOUT</H3>
<P><STRONG>What it tests:</STRONG> Mouse event handlers that trigger when the mouse moves over or away from an element.</P>
<P><STRONG>How to run:</STRONG> Move your mouse over the link below, then move it away.</P>
<P><STRONG>Expected results:</STRONG> When you move the mouse over the link, the status bar should show "Mouse is over the link!". When you move the mouse away, the status bar should clear.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<A HREF="#top" ONMOUSEOVER="onMouseOver()" ONMOUSEOUT="onMouseOut()">Hover over this link</A> - watch the status bar!
</TD>
</TR>
</TABLE>

<H3>Test 2: ONCLICK</H3>
<P><STRONG>What it tests:</STRONG> The ONCLICK event handler that triggers when an element is clicked.</P>
<P><STRONG>How to run:</STRONG> Click any of the test buttons on this page - they all use ONCLICK handlers.</P>
<P><STRONG>Expected results:</STRONG> When you click a button, the associated JavaScript function should execute. For example, clicking "Test Alert" should show an alert dialog.</P>

<H3>Test 2a: ONCLICK for Buttons Outside Forms</H3>
<P><STRONG>What it tests:</STRONG> The ONCLICK event handler works for input buttons that are not inside a form element.</P>
<P><STRONG>How to run:</STRONG> Click the button below (it's outside any form).</P>
<P><STRONG>Expected results:</STRONG> The status bar should show "Formless input button clicked! This button works outside a form." This demonstrates that AWeb supports formless input elements for JavaScript events.</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<INPUT TYPE="button" ONCLICK="testFormlessInput()" VALUE="Formless Button (Outside Form)">
</TD>
</TR>
</TABLE>

<H3>Test 2b: ONCLICK for Images</H3>
<P><STRONG>What it tests:</STRONG> The ONCLICK event handler works for IMG elements.</P>
<P><STRONG>How to run:</STRONG> Click the image below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear saying "Image onclick handler works! This demonstrates onclick support for IMG tags."</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<IMG SRC="aweb.iff" WIDTH="96" HEIGHT="46" ALT="(logo)" ONCLICK="testImageOnclick()" STYLE="cursor: pointer; border: 2px solid blue;">
<BR><SMALL>Click the image above</SMALL>
</TD>
</TR>
</TABLE>

<H3>Test 2c: ONCLICK for Objects</H3>
<P><STRONG>What it tests:</STRONG> The ONCLICK event handler works for OBJECT elements.</P>
<P><STRONG>How to run:</STRONG> Click the object below.</P>
<P><STRONG>Expected results:</STRONG> An alert dialog should appear saying "Object onclick handler works! This demonstrates onclick support for OBJECT tags."</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<OBJECT DATA="aweb.iff" WIDTH="96" HEIGHT="46" TYPE="image/iff" ONCLICK="testObjectOnclick()" STYLE="cursor: pointer; border: 2px solid green;">
<IMG SRC="aweb.iff" WIDTH="96" HEIGHT="46" ALT="(logo)">
</OBJECT>
<BR><SMALL>Click the object above</SMALL>
</TD>
</TR>
</TABLE>

<H3>Test 3: ONFOCUS and ONBLUR</H3>
<P><STRONG>What it tests:</STRONG> Focus event handlers that trigger when a form field gains or loses keyboard focus.</P>
<P><STRONG>How to run:</STRONG> Click in the text field in Test 5 below, then click outside of it.</P>
<P><STRONG>Expected results:</STRONG> When you click in the field (giving it focus), the status bar should show "Field focused: name". When you click outside (blur), the status bar should show "Field blurred: name".</P>

<H3>Test 4: ONCHANGE</H3>
<P><STRONG>What it tests:</STRONG> The ONCHANGE event handler that triggers when a form field value changes.</P>
<P><STRONG>How to run:</STRONG> Type something in the text field in Test 5 below, then click outside the field or press Tab.</P>
<P><STRONG>Expected results:</STRONG> After you change the text and move away from the field, the status bar should show "Field changed: [your text]".</P>

<H3>Test 5: ONSUBMIT and ONRESET</H3>
<P><STRONG>What it tests:</STRONG> Form event handlers that trigger when a form is submitted or reset.</P>
<P><STRONG>How to run:</STRONG> Try submitting the form below (leave the name field empty to test validation), or click the Reset button.</P>
<P><STRONG>Expected results:</STRONG> 
<UL>
<LI>If you try to submit with an empty name field, an alert should appear saying "Name field is required!" and the form should not submit.</LI>
<LI>If you click Reset, an alert should appear saying "Form reset!" and the form fields should be cleared.</LI>
</UL>
</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<FORM METHOD="POST" ACTION="test.cgi" ONSUBMIT="return validateForm()" ONRESET="window.alert('Form reset!')">
<P>Name: <INPUT TYPE="text" NAME="name" VALUE="" SIZE="30" ONCHANGE="onInputChange(this)" ONFOCUS="onInputFocus(this)" ONBLUR="onInputBlur(this)" ONSELECT="testOnSelect()"></P>
<P>
<INPUT TYPE="submit" VALUE="Submit Form">
<INPUT TYPE="reset" VALUE="Reset Form">
</P>
</FORM>
</TD>
</TR>
</TABLE>

<H3>Test 6: ONLOAD</H3>
<P><STRONG>What it tests:</STRONG> The ONLOAD event handler that triggers when the page finishes loading.</P>
<P><STRONG>How to run:</STRONG> This test runs automatically when the page loads. Check the status bar.</P>
<P><STRONG>Expected results:</STRONG> When the page loads, the status bar should show "JavaScript 1.1 Test Page Loaded" (set by the BODY ONLOAD attribute).</P>

<H3>Test 7: ONUNLOAD</H3>
<P><STRONG>What it tests:</STRONG> The ONUNLOAD event handler that triggers when the page is unloaded (user navigates away).</P>
<P><STRONG>How to run:</STRONG> Navigate away from this page (click a link or use the back button).</P>
<P><STRONG>Expected results:</STRONG> When you leave the page, the onunload handler should execute. Check the status bar or look for any alert that appears.</P>
<SCRIPT LANGUAGE="JavaScript">
<!--
window.onunload = testOnUnload;
//-->
</SCRIPT>

<H3>Test 8: ONERROR and ONABORT (Image Events)</H3>
<P><STRONG>What it tests:</STRONG> The ONERROR and ONABORT event handlers for image loading errors and aborts.</P>
<P><STRONG>How to run:</STRONG> The test image below has onerror and onabort handlers. If the image fails to load, onerror will trigger. If loading is aborted, onabort will trigger.</P>
<P><STRONG>Expected results:</STRONG> If the image fails to load, an alert should appear saying "Image onerror handler triggered". If loading is aborted, an alert should appear saying "Image onabort handler triggered".</P>
<TABLE BORDER="1" BGCOLOR="#f0f0f0" CELLPADDING="10" WIDTH="100%">
<TR>
<TD>
<STRONG>Test:</STRONG><BR>
<IMG SRC="nonexistent.iff" WIDTH="96" HEIGHT="46" ALT="(test image)" ONERROR="window.alert('Image onerror handler triggered')" ONABORT="window.alert('Image onabort handler triggered')">
<BR><SMALL>This image may not exist, triggering onerror</SMALL>
</TD>
</TR>
</TABLE>

<H3>Test 9: ONSELECT</H3>
<P><STRONG>What it tests:</STRONG> The ONSELECT event handler that triggers when text in an input field is selected.</P>
<P><STRONG>How to run:</STRONG> Select text in the input field in Test 5 above (click and drag to select).</P>
<P><STRONG>Expected results:</STRONG> When you select text in the input field, the status bar should show "onselect event triggered - text was selected".</P>

<H3>Partially Supported</H3>
<UL>
<LI>ONSELECT - Text selection event - May have limited support</LI>
<LI>ONKEYDOWN, ONKEYUP, ONKEYPRESS - Keyboard events - Limited support</LI>
<LI>ONDBLCLICK - Double-click event - May have limited support</LI>
</UL>

<H3>Not Supported</H3>
<UL>
<LI>Event bubbling and capturing - Not supported</LI>
<LI>addEventListener() - Not supported</LI>
<LI>removeEventListener() - Not supported</LI>
<LI>Event object properties - Limited support</LI>
</UL>

<P><A HREF="#top">Back to top</A></P>

<HR>

<A NAME="compatibility"></A>
<H2>Compatibility Summary</H2>

<H3>JavaScript Features Fully Supported</H3>
<UL>
<LI>Core language features (variables, functions, control structures)</LI>
<LI>Window object (alert, confirm, prompt, status, setTimeout, setInterval)</LI>
<LI>Document object (write, title, URL, forms, images, links arrays)</LI>
<LI>History object (back, forward, go, length)</LI>
<LI>Navigator object (appName, userAgent, javaEnabled, etc.)</LI>
<LI>Location object (href, protocol, host, reload, etc.)</LI>
<LI>String object (basic methods)</LI>
<LI>Array object (basic methods: join, reverse, sort)</LI>
<LI>Math object (basic methods)</LI>
<LI>Date object (basic methods)</LI>
<LI>Event handlers (onclick, onload, onmouseover, etc.)</LI>
<LI>onclick support for buttons outside forms - Fully supported</LI>
<LI>onclick support for IMG and OBJECT elements - Fully supported</LI>
</UL>

<!-- JavaScript 1.5 (ECMAScript 3) Features - COMMENTED OUT (not yet implemented)
<H3>JavaScript 1.5 (ECMAScript 3) Features Fully Supported</H3>
<UL>
<LI>Core language features (variables, functions, control structures)</LI>
<LI><STRONG>ECMAScript 3 features:</STRONG>
  <UL>
  <LI>Exception handling (try/catch/finally) - Fully supported</LI>
  <LI>throw statement - Fully supported</LI>
  <LI>switch/case/default statements - Fully supported</LI>
  <LI>instanceof operator - Fully supported</LI>
  <LI>Strict equality operators (===, !==) - Fully supported</LI>
  <LI>Error objects (Error, TypeError, RangeError, SyntaxError, ReferenceError, URIError, EvalError) - Fully supported</LI>
  </UL>
</LI>
<LI>Array object (basic methods plus: concat, pop, push, shift, unshift, slice, splice, toLocaleString)</LI>
<LI>Object.prototype methods (hasOwnProperty, propertyIsEnumerable, isPrototypeOf, toLocaleString)</LI>
</UL>
-->

<H3>JavaScript Features Partially Supported</H3>
<UL>
<LI>window.open() and window.close() - Basic support with limitations</LI>
<LI>document.getElementById() - May have limited support</LI>
<LI>document.cookie - Basic support</LI>
<LI>Keyboard events - Limited support</LI>
</UL>

<H3>JavaScript Features Not Supported</H3>
<UL>
<LI>Regular Expressions (RegExp object) - Not supported</LI>
<LI>Full DOM Level 1 - Very limited implementation</LI>
<LI>document.createElement() and DOM manipulation - Not supported</LI>
<LI>JSON parsing/stringifying - Not supported</LI>
<LI>Modern Array methods (forEach, map, filter, reduce, etc.) - Not supported</LI>
<LI>Advanced String methods (split, replace, match, etc.) - Limited or not supported</LI>
<LI>Event bubbling and capturing - Not supported</LI>
<LI>addEventListener() / removeEventListener() - Not supported</LI>
<LI>XMLHttpRequest (AJAX) - Not supported</LI>
<LI>ES6 features (let/const, arrow functions, classes) - Not supported</LI>
<LI>ECMAScript 3 features (try/catch/finally, throw, switch/case, instanceof, strict equality, Error objects) - Not yet implemented</LI>
<LI>Enhanced Array methods (concat, pop, push, shift, unshift, slice, splice, toLocaleString) - Not yet implemented</LI>
<LI>Object.prototype methods (hasOwnProperty, propertyIsEnumerable, isPrototypeOf) - Not yet implemented</LI>
</UL>

<H3>JavaScript Compatibility Notes</H3>
<P>AWeb implements JavaScript with support for core language features and basic browser object model functionality. ECMAScript 3 (JavaScript 1.5) features such as exception handling, switch statements, strict equality, and Error objects are planned but not yet implemented.</P>

<P><A HREF="#top">Back to top</A></P>

<HR>

<CENTER>
<P><SMALL>Last Updated: 2025 - AWeb 3 JavaScript Compatibility Test</SMALL></P>
<P><A HREF="aweb.html">Back to AWeb documentation index</A></P>
</CENTER>

</BODY>
</HTML>
