<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Release Notes - AWeb 3.6 &nbsp; Alpha 3</title>
</head>
<body background="Docs/awebbg.iff">
<img src="Docs/aweb.iff" width=192 height=93 alt="AWeb Logo" align=left>
<p>
<table align=center>
<tr><td align=center>
         <h1>AWeb 3.6 &nbsp; Alpha 3</h1>
<tr><td align=center colspan=2><font face="Helvetica, Arial, sans-serif" size=+2 color="#cc0000"><i>The Amiga Web Browser</i></font>
</table>
<br clear=all>

<p align=center>
<font face="Times, serif" size=+1><i>
A web, suddenly<br>
Forty years meditation<br>
Minds awaken, free
</i></font>
</p>

<font face="Helvetica, Arial, sans-serif">
<p>
This is AWeb 3.6, a new release of the classic AWeb for the Amiga from <a href="http://amigazen.com/">amigazen project</a>. This release is alpha 5, a preview release intended for testing and feedback. The full source code of this release is available at https://github.com/amigazen/aweb3/ - this link is not clickable as AWeb will not be able to cope with the github website!
</p>

<p>
<b>amigazen project</b> uses modern software development tools and methods to update and rerelease classic Amiga open source software. This release updates AWeb to build against NDK3.2, replacing ClassAct with ReAction, updating networking code for RoadShow and AmiSSL, and ensuring it builds against the amigazen project ToolKit standard.
</p>

<p>
    New features in AWeb 3.6 include:
<ul>
<li><b>Inline CSS</b> - for the first time, AWeb now supports CSS, starting with inline CSS for properties matching HTML4 attributes</li>
<li>Introducing <b>AWebView</b> - a new standalone HTML and Markdown file viewer, built from the same AWeb codebase</li>
<li><b>Web safe fonts</b>Font tag parsing and matching logic now works like web safe fonts on other browsers</li>
<li>gemini:// and spartan:// protocol </li>
<li>A new aweblib brings <b>about:</b> URLs with home, fonts, version, plugins and blank page templates</li>
<li><b>HTTP/1.1</b> gzip and chunked encoding, and experimental keep-alive support</li>
<li><b>AmiSSL 5.20</b> support for HTTPS connections, including TLS 1.3 and strong cipher suites</li>
<li><b>utf-8</b> transcoding of the most common multibyte characters to Latin-1</li>
<li><b>AmigaOS 3.2</b> features such as contextual mouse pointers are now supported, while retaining compatibility with 3.1</li>
</ul>
</p>

<h2>What is AWebView?</h2>
<p>
AWebView is a new standalone HTML and Markdown file viewer (in fact, it can display any file AWeb can display including images) built from the same AWeb codebase using the LOCALONLY build configuration. It is a separate application from AWeb and takes up (slightly) less RAM because it does not integrate any of the network features.
</p>

<p>AWebView incorporates the same file:// protocol handler as AWeb including the new directory browsing feature added in AWeb 3.6. It can therefore be used as a very simple file manager.</p>

<p>AWebView loads it's preferences from an AWeb profile called 'AWebView' instead of the default AWeb config. AWebCfg can still be used to edit the preferences for AWebView, by saving the preferences . Of course, many of the preference settings are not relevant to AWebView and will be ignored.</p>

<h3>What's the plan for AWebView?</h3>

This is an initial release of AWebView provided as a proof of concept for feedback purposes. Some ideas about how AWebView may or may not be developed further include:
<ul>
<li>A more simple toolbar area, or perhaps even no toolbar at all!</li>
<li>Pared back menu options and more generally stripping out features that are not relevant to a standalone file viewer in order to reduce the binary size</li>
<li>More command line arguments, offering similar options to MultiView</li>
<li>File manager operations, and Workbench integration where it makes sense, probably using the existing ARexx integration
<li>Support for launching Tools directly from AWebView as if launched from Workbench (again, probably via ARexx integration)</li>
<li>Note that AWebView already inherits AWeb's AppWindow support. Currently this will view the file, not copy it to the location of the current folder as might be expected.</li>
</ul>

Please share feedback and ideas over at GitHub or on the project Discord server.

<h2>Running AWeb</h2>

<p>
AWeb no longer requires an installer script. It can run from anywhere. Just run it from the folder it's in. Do note however that if the assign "AWeb:" does not already exist it will temporarily assign it to its current directory until it exits. On the other hand if you have assigned AWeb: to a different location then it won't find its plugins.
</p>
<p>
When launched from Workbench, the default CONFIG is set to AWeb36a3 in the ToolTypes, which means it will not conflict with any existing AWeb prefs in your ENV:AWeb3 directory. When running from the command line you must specify CONFIG=AWeb36a3 to achieve the same effect as it will otherwise use the existing AWeb prefs. If you have an earlier version of AWeb installed with saved settings, this will prevent AWeb 3.6 Alpha 3 from using those settings which may include deprecated default paths such as AWebPath:
</p>
<p>
This alpha build supports a HTTPDEBUG/S command line option which will output a LOT of debugging output to the console for any network operations. If you use this, redirect the output to a file on a safe disk like the RAM: disk or, if running under emulation, a mounted host folder, just in case it causes filesystem corruption.
</p>
<p>
The requirements for AWeb 3.6 remain the same as the original 3.4 release, however most websites, even those that only use HTML 3 and 4 features, require significant amounts of RAM - 8MB Fast RAM is probably a sensible minimum. Some of the new default settings assume a more powerful Amiga than would have been common in the 1990s. It will of course fail to work with any modern website requiring HTML5, CSS3, video content,heavy JavaScript, etc. This build is not optimised for any particular CPU architecture.
</p>

<h2>What's New in 3.6 Alpha 5?</h2>
<ul>
<li>Experimental <b>inline CSS</b> support for a subset of CSS1 and CSS2 properties, see the <a href="Docs/css_test.html">CSS Test Page</a> for details</li>
<li>PNG AWebPlugin updated further to version 1.0.69 (latest 1.0.x branch) after it was updated to 1.0.0 by integrating the changes from AWeb 3.5</li>
<li>Experimental support for the <b>gemini://</b> and <b>spartan://</b> protocols, new gopher-like networks, and the gemtext markup language they use</li>
<li>Introducing <b>AWebView</b> a new standalone HTML and Markdown file viewer built using the LOCALONLY build configuration</li>
<li>utf-8 support now handles mapping some 3-byte and 4-byte characters to Latin-1</li>
<li>TLS connections now safely fail immediately instead of prompting the user to allow unsecure fallback, if secure socket cannot be established</li>
<li>3.5 FEATURE: PNG AWebPlugin's libpng library updated to version 1.0.0 as used in AWeb 3.5</li> 
<li>3.5 FEATURE: JFIF AWebPlugin's JPEG library updated to version 6b as used in AWeb 3.5</li>
<li>3.5 FEATURE: GIF AWebPlugin incorporates GIF engine changes from AWeb 3.5</li>
<li>3.5 FEATURE: Reintegrated the improvements to the gopher:// aweblib module from AWeb 3.5</li>
<li>FIXED: If using a custom CONFIG argument, AWeb now creates the directory for it if it doesn't already exist before saving into it - caused a DSI hit on OS4</li>
<li>FIXED: TLS connections are properly cleaned up in all circumstances and AmiSSL libraries are only closed on application exit</li>
</ul>

<h2>What's New in 3.6 Alpha 4?</h2>
<ul>
<li>Experimental HTTP/1.1 keep-alive support has been added to the codebase but is not enabled in this build as it requires further testing, and appears to be slower not faster as expected</li>
<li>HTTPS connections now deny use of weak ciphers and TLS versions below 1.2 and also check CN and SAN name matches, with wildcard support, chain validation and Server Name Indication (SNI)</li>
<li>FONT tags now search first for the named font if it exists on the system, then for the mapped alternative, then for the fallback font for the requested family</li>
<li>The new <a href="about:fonts">about:fonts</a> page now illustrates exactly how AWeb will render the defacto standard web safe fonts on your system with the fonts you have installed</li>
<li>about.aweblib module now includes <a href="about:plugins">about:plugins</a> which will list all loaded AWebPlugin and AWebLib modules</li>
<li>theoldnet.com is now a default bookmark and the proxy function has been tested with theoldnet.com's http proxy service for browsing old versions of websites</li>
<li>To use theoldnet.com proxy, enter "http://theoldnet.com:1996" as the proxy host and port in the Network settings, and set web.archive.org as an exception</li>
<li>FORM elements such as INPUT, TEXTAREA, SELECT and BUTTON now render using the current font of the element they are contained within, rather than the system font</li>
<li>URL parameters passed on the command line with no URL protocol are assumed to be local files, or in other words to open local files it is no longer necessary to specify the file:// protocol (actually this was added in 3.6 Alpha 2 but missed from these Release Notes)</li>
<li>The file:// protocol now supports browsing and navigating directories as well as viewing files unless a file "index.html" is present in the directory. From here you can view individual files and navigate into subdirectories.</li>
<li>Additionally, if you navigate to the <a href="file:///">file:///</a> root URL you will see a list of all mounted volumes</li>
<li>Added new command line option (and corresponding ToolType) "NOSTARTUP/S". If this is passed, the startup.aweblib plugin will not be run even if it exists and therefore no splash screen will show.</li>
<li>The Documentation now includes test pages for HTML3.2, HTML4.0 and JavaScript 1.1 to make it easy to see exactly how AWeb handles these standards</li>
<li>3.5 FEATURE: JavaScript now employs dynamic garbage collection during script execution instead of only at the end, reducing overall memory usage</li>
<li>3.5 FEATURE: Implemented ETags for caching</li>
<li>3.5 FEATURE: Implemented Content-Disposition parsing used for setting suggested name for file downloads</li>
<li>3.5 FEATURE: Reintegrated support for 302 and 307 redirects</li>
<li>FIXED: Entities are now always rendered as actual characters regardless of the HTML compatibility mode</li>
<li>FIXED: Proxy settings are now actually saved - this was completely missing in the original AWeb 3.4 source code</li>
<li>FIXED: Broken ReadBytes function in the PNG plugin could cause an infinite loop loading assets from HTTPS connections, now fixed following the JPEG version pattern.</li>
</ul>


<h2>What's New in 3.6 Alpha 3?</h2>
<ul>
<li>On larger screen resolutions (above 640x512) new browser windows will default to a more sensible size rather than full screen</li>
<li>Closing the last browser window from the close gadget will no longer prompt with an 'Are you sure you want to quit?' requester unless there are transfers still in progress</li>
<li>AWeb will now use system provided <b>contextual mouse pointers</b> if intuition.library v47 or greater is available, instead of its own custom pointers, for links, text cursors, popup menus and resize handles</li>
<li>Implemented better content type detection for text formats and image formats from web servers that send unknown or octet-stream content type headers, which should reduce the likelihood of being forced to save a file the browser should be able to render</li>
<li>HAIKU/S is now a valid alternative to the VVIIV/S (5-7-5.. get it?) command line option "easter egg"</li>
<li>All remaining Latin-1 XML entities are now supported</li>
<li><b>Markdown</b> documents loaded both from files or http(s) URLs are rendered as HTML on the fly</li>
<li><b>about:</b> URL protocol now provides a <a href="about:home">default home page</a>, an <a href="about:blank">about:blank</a>, a <a href="about:fonts">fonts test page</a>, and a <a href="about:version">version information page</a></li>
<li>Added a default custom config name (AWeb36a3) to the AWeb icon when launching from Workbench in order to avoid conflict with any preexisting AWeb settings in your ENV:AWeb3 directory</li>
<li>TLS/SSL connections are now much more secure by default - rejecting anything other than TLS 1.2 and TLS 1.3 and only using strong ciphers</li>
<li>HTTPS connections now properly verify that the hostname matches the certificate following RFC 6125</li>
<li>FIXED: Removed an unnecessary additional init SSL function call which may have caused some instability with HTTPS connections</li>
<li>FIXED: AWeb really will automatically create the AWeb: assign now if it doesn't already exist, and remove it on exit if it created it. This was broken in 3.6 Alpha 2</li>
<li>FIXED: Large files are sometimes truncated, any debugging output on this issue in particular is gratefully received</li>
</ul>

<h3>What's New in 3.6 Alpha 2?</h2>
<ul>
<li>Migrated from ClassAct to ReAction</li>
<li>Refactored to use P96 instead of Cybergraphics</li>
<li>SSL rewritten to use AmiSSL v5.2</li>
<li>Updated to build against NDK3.2 and ToolKit SDK</li>
<li>Renamed executable from 'AWeb-II' to simply 'AWeb'</li>
<li>HTTP module completely written to use HTTP/1.1, gzip and chunked encodings</li>
<li>Socket connections can be arbitrarily terminated at any time and now timeout after 15 seconds of inactivity</li>
<li>Default background color for HTML rendering changed to white</li>
<li>Images no longer render a border when associated with an a link</li>
<li>Default search engine changed to BoingSearch.com</li>
<li>Cookies now accepted by default, avoiding requester overload</li>
<li>Default fonts changed to use the Amiga's default scalable fonts</li>
<li>Added web-safe font aliases for better font matching</li>
<li>Added XML character entities support</li>
<li>Added stopgap UTF-8 conversion to prevent spurious glyphs</li>
<li>Updated default bookmarks and default search engine is now boingsearch.com</li>
<li>INet225 support removed - use bsdsocket.library instead</li>
<li>MiamiSSL support removed - use AmiSSL 5.20+ instead</li>
<li>CyberGraphX support removed (for now anyway) - this build uses P96 instead which should make it more viable under emulation and on OS4</li>
<li>Builds again with SAS/C! Does not require gcc, native or cross-compiler to build</li>
</ul>

<h3>Known Issues in 3.6 Alpha 5</h3>
<ul>
<li>Although the AmiSSL interface code has been completely rewritten to work with AmiSSL 5.20 and properly support asynchronous SSL connections, especially with the use of multiple threads (Tasks), it is still not completely stable</li>
<li>Using image AWebPlugins with HTTPS connections causes crashes and lockups - for the time being do not use the image plugins, they are not configured by default</li>
<li>This version does not currently include most of the changes from the various incomplete 3.5 releases, for now, instead it reimplements the HTTP and AmiSSL client code to a more recent standard. Other features of the 3.5 releases will come later</li>
<li>Setting the disk cache to 0 or a very small size will prevent images from rendering - this is an issue carried over from the original AWeb</li>
<li>The documentation is still being updated for release 3.6</li>
<li>The new support for Markdown documents still has some visual glitches</li>
<li>The AWebPlugins are deliberately not enabled by default, you will need to enable them manually in the configuration</li>
<li>Feedback is also particularly welcome on default settings and default programs</li>
</ul>

<h3>Known Issues with OS4</h3>
<p>
The following issues are specific to running the 3.6 Alpha 2 68K build on OS4: 
</p>
<ul>
<li>Pages with a background image experience graphics corruption when using the window scroll bars to scroll the page</li>
<li>Attempts to access HTTPS connections will fail</li>
<li>Mousewheel does not scroll</li>
<li>Since the new default homepage relies on the about.aweblib plugin, there may be issues on OS4, in which case delete the plugin or run AWebCfg first to save a new default home page</li>
</ul>

<p>Many of these issues almost certainly have been fixed before in the AWeb 3.5 codebase but they have not been integrated into AWeb 3.6, which is based on AWeb 3.4, at this time.</p>

<h2>Contact</h2>
<ul>
<li>GitHub: <a href="https://github.com/amigazen/aweb3/">https://github.com/amigazen/aweb3/</a></li>
<li>Web: <a href="http://amigazen.com/aweb/">http://amigazen.com/aweb/</a></li>
<li>Email: <a href="mailto:aweb@amigazen.com">aweb@amigazen.com</a></li>
</ul>

</font>

</body>
</html>
